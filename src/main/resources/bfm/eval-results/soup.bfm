<?xml version="1.0" encoding="UTF-8"?>
<bfm namespace="SoupVendingMachine">
    <feature name="M">
        <events>
            <event id="no_cup_2 | U"> </event>
            <event id="cup_present_1 | U"> </event>
            <event id="skip_1 | not U"> </event>
            <event id="cup_present_0 | U"> </event>
            <event id="skip_3 | not R"> </event>
            <event id="cancelSoup_1 | X"> </event>
            <event id="bad_luck | not U"> </event>
            <event id="cup_present_2 | U"> </event>
            <event id="skip_2 | not U"> </event>
            <event id="insert_Euro | SC and E"> </event>
            <event id="pour_pea | PS"> </event>
            <event id="skip_0 | not U"> </event>
            <event id="tomato | TS"> </event>
            <event id="cancelSoup_0 | X"> </event>
            <event id="ring | R"> </event>
            <event id="pea | PS"> </event>
            <event id="pour_tomato | TS"> </event>
            <event id="cancelSoup_3 | X"> </event>
            <event id="no_cup_0 | U"> </event>
            <event id="pour_chicken | CS"> </event>
            <event id="chicken | CS"> </event>
            <event id="insert_Dollar | SC and D"> </event>
            <event id="cancelSoup_2 | X"> </event>
            <event id="take_soup | M"> </event>
            <event id="no_cup_1 | U"> </event>
        </events>
        <mandatory>
            <feature name="O"></feature>
        </mandatory>
        <mandatory>
            <feature name="SC">
                <mandatory>
                    <feature name="S">
                        <or>
                            <feature name="CS"></feature>
                            <feature name="PS"></feature>
                            <feature name="TS"></feature>
                        </or>
                    </feature>
                </mandatory>
                <optional>
                    <feature name="U"></feature>
                </optional>
            </feature>
        </mandatory>
        <optional>
            <feature name="R">
                <optional>
                    <feature name="P"></feature>
                </optional>
            </feature>
        </optional>
        <optional>
            <feature name="X"></feature>
        </optional>
        <alternative>
            <feature name="E"></feature>
            <feature name="D"></feature>
        </alternative>
        <feature_constraints>
            <feature_constraint fexpression="(U || !(D &amp;&amp; SC))"></feature_constraint>
        </feature_constraints>
        <event_constraints>
            <causalities>
                <causality target="no_cup_2 | U">
                    <bundle>
                        <event id="pea | PS"> </event>
                    </bundle>
                </causality>
                <causality target="cup_present_1 | U">
                    <bundle>
                        <event id="chicken | CS"> </event>
                    </bundle>
                </causality>
                <causality target="skip_1 | not U">
                    <bundle>
                        <event id="chicken | CS"> </event>
                    </bundle>
                </causality>
                <causality target="cup_present_0 | U">
                    <bundle>
                        <event id="tomato | TS"> </event>
                    </bundle>
                </causality>
                <causality target="skip_3 | not R">
                    <bundle>
                        <event id="pour_pea | PS"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="pour_tomato | TS"> </event>
                    </bundle>
                </causality>
                <causality target="cancelSoup_1 | X">
                    <bundle>
                        <event id="no_cup_0 | U"> </event>
                    </bundle>
                </causality>
                <causality target="bad_luck | not U">
                    <bundle>
                        <event id="ring | R"> </event>
                        <event id="skip_3 | not R"> </event>
                    </bundle>
                </causality>
                <causality target="cup_present_2 | U">
                    <bundle>
                        <event id="pea | PS"> </event>
                    </bundle>
                </causality>
                <causality target="skip_2 | not U">
                    <bundle>
                        <event id="pea | PS"> </event>
                    </bundle>
                </causality>
                <causality target="pour_pea | PS">
                    <bundle>
                        <event id="cup_present_2 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                    </bundle>
                </causality>
                <causality target="skip_0 | not U">
                    <bundle>
                        <event id="tomato | TS"> </event>
                    </bundle>
                </causality>
                <causality target="tomato | TS">
                    <bundle>
                        <event id="insert_Dollar | SC and D"> </event>
                        <event id="insert_Euro | SC and E"> </event>
                    </bundle>
                </causality>
                <causality target="cancelSoup_0 | X">
                    <bundle>
                        <event id="insert_Dollar | SC and D"> </event>
                        <event id="insert_Euro | SC and E"> </event>
                    </bundle>
                </causality>
                <causality target="ring | R">
                    <bundle>
                        <event id="pour_pea | PS"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="pour_tomato | TS"> </event>
                    </bundle>
                </causality>
                <causality target="pea | PS">
                    <bundle>
                        <event id="insert_Dollar | SC and D"> </event>
                        <event id="insert_Euro | SC and E"> </event>
                    </bundle>
                </causality>
                <causality target="pour_tomato | TS">
                    <bundle>
                        <event id="skip_0 | not U"> </event>
                        <event id="cup_present_0 | U"> </event>
                    </bundle>
                </causality>
                <causality target="cancelSoup_3 | X">
                    <bundle>
                        <event id="no_cup_2 | U"> </event>
                    </bundle>
                </causality>
                <causality target="no_cup_0 | U">
                    <bundle>
                        <event id="tomato | TS"> </event>
                    </bundle>
                </causality>
                <causality target="pour_chicken | CS">
                    <bundle>
                        <event id="cup_present_1 | U"> </event>
                        <event id="skip_1 | not U"> </event>
                    </bundle>
                </causality>
                <causality target="chicken | CS">
                    <bundle>
                        <event id="insert_Dollar | SC and D"> </event>
                        <event id="insert_Euro | SC and E"> </event>
                    </bundle>
                </causality>
                <causality target="cancelSoup_2 | X">
                    <bundle>
                        <event id="no_cup_1 | U"> </event>
                    </bundle>
                </causality>
                <causality target="take_soup | M">
                    <bundle>
                        <event id="ring | R"> </event>
                        <event id="skip_3 | not R"> </event>
                    </bundle>
                </causality>
                <causality target="no_cup_1 | U">
                    <bundle>
                        <event id="chicken | CS"> </event>
                    </bundle>
                </causality>
            </causalities>
            <conflicts>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="cup_present_1 | U"> </event>
                        <event id="pour_tomato | TS"> </event>
                        <event id="skip_1 | not U"> </event>
                        <event id="cup_present_0 | U"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="chicken | CS"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="tomato | TS"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="cup_present_2 | U"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cup_present_1 | U"> </event>
                        <event id="pour_tomato | TS"> </event>
                        <event id="skip_1 | not U"> </event>
                        <event id="cup_present_0 | U"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="chicken | CS"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="tomato | TS"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="pour_pea | PS"> </event>
                        <event id="pea | PS"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="cup_present_2 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="cup_present_1 | U"> </event>
                        <event id="pea | PS"> </event>
                        <event id="skip_1 | not U"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="cup_present_2 | U"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                        <event id="pour_pea | PS"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="chicken | CS"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="cup_present_0 | U"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="ring | R"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="skip_3 | not R"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="pea | PS"> </event>
                        <event id="pour_tomato | TS"> </event>
                        <event id="cup_present_0 | U"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="cup_present_2 | U"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                        <event id="pour_pea | PS"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="tomato | TS"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="cup_present_1 | U"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="skip_1 | not U"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="pea | PS"> </event>
                        <event id="pour_tomato | TS"> </event>
                        <event id="skip_1 | not U"> </event>
                        <event id="cup_present_0 | U"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="cup_present_2 | U"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                        <event id="pour_pea | PS"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="tomato | TS"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="cup_present_1 | U"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="pour_tomato | TS"> </event>
                        <event id="pea | PS"> </event>
                        <event id="cup_present_0 | U"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="cup_present_2 | U"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                        <event id="pour_pea | PS"> </event>
                        <event id="tomato | TS"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                    </events>
                    <events>
                        <event id="cup_present_1 | U"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="chicken | CS"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="skip_1 | not U"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="insert_Euro | SC and E"> </event>
                    </events>
                    <events>
                        <event id="insert_Dollar | SC and D"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cup_present_1 | U"> </event>
                        <event id="ring | R"> </event>
                        <event id="pour_tomato | TS"> </event>
                        <event id="skip_1 | not U"> </event>
                        <event id="skip_3 | not R"> </event>
                        <event id="cup_present_0 | U"> </event>
                        <event id="cup_present_2 | U"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="bad_luck | not U"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                        <event id="pour_pea | PS"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="chicken | CS"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="tomato | TS"> </event>
                        <event id="take_soup | M"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="bad_luck | not U"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="take_soup | M"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="cup_present_1 | U"> </event>
                        <event id="ring | R"> </event>
                        <event id="pea | PS"> </event>
                        <event id="pour_tomato | TS"> </event>
                        <event id="skip_1 | not U"> </event>
                        <event id="skip_3 | not R"> </event>
                        <event id="cup_present_0 | U"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="bad_luck | not U"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="cup_present_2 | U"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                        <event id="pour_pea | PS"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="chicken | CS"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="tomato | TS"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="take_soup | M"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="cancelSoup_0 | X"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="cup_present_1 | U"> </event>
                        <event id="ring | R"> </event>
                        <event id="pea | PS"> </event>
                        <event id="pour_tomato | TS"> </event>
                        <event id="skip_1 | not U"> </event>
                        <event id="skip_3 | not R"> </event>
                        <event id="cup_present_0 | U"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="bad_luck | not U"> </event>
                        <event id="cup_present_2 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                        <event id="pour_pea | PS"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="chicken | CS"> </event>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="take_soup | M"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                    <events>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="no_cup_0 | U"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="no_cup_2 | U"> </event>
                        <event id="cup_present_1 | U"> </event>
                        <event id="ring | R"> </event>
                        <event id="pea | PS"> </event>
                        <event id="pour_tomato | TS"> </event>
                        <event id="skip_1 | not U"> </event>
                        <event id="skip_3 | not R"> </event>
                        <event id="cup_present_0 | U"> </event>
                        <event id="cancelSoup_3 | X"> </event>
                        <event id="bad_luck | not U"> </event>
                        <event id="cancelSoup_1 | X"> </event>
                        <event id="cup_present_2 | U"> </event>
                        <event id="no_cup_0 | U"> </event>
                        <event id="skip_2 | not U"> </event>
                        <event id="pour_pea | PS"> </event>
                        <event id="pour_chicken | CS"> </event>
                        <event id="tomato | TS"> </event>
                        <event id="skip_0 | not U"> </event>
                        <event id="take_soup | M"> </event>
                        <event id="cancelSoup_0 | X"> </event>
                    </events>
                    <events>
                        <event id="cancelSoup_2 | X"> </event>
                        <event id="no_cup_1 | U"> </event>
                    </events>
                </conflict>
            </conflicts>
        </event_constraints>
    </feature>
</bfm>