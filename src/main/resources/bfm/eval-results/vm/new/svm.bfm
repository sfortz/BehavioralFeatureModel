<?xml version="1.0" encoding="UTF-8"?>
<bfm namespace="VendingMachine">
    <feature name="M">
        <events>
            <event id="skip_0" fexpression="(!R &amp;&amp; !U)"> </event>
            <event id="skip_3" fexpression="(!R &amp;&amp; !U)"> </event>
            <event id="change" fexpression="!F"> </event>
            <event id="skip_4"> </event>
            <event id="skip_1" fexpression="(!R &amp;&amp; !U)"> </event>
            <event id="take_1" fexpression="!F"> </event>
            <event id="skip_2" fexpression="(!R &amp;&amp; !U)"> </event>
            <event id="pay" fexpression="!F"> </event>
            <event id="take_soup" fexpression="M"> </event>
            <event id="bad_luck" fexpression="!U"> </event>
            <event id="open" fexpression="!F"> </event>
            <event id="insertSoup_Dollar" fexpression="(D &amp;&amp; SC)"> </event>
            <event id="insertSoup_Euro" fexpression="(E &amp;&amp; SC)"> </event>
            <event id="take_cup" fexpression="M"> </event>
            <event id="close" fexpression="!F"> </event>
        </events>
        <mandatory>
            <feature name="O">
                <alternative>
                    <feature name="E">
                        <events>
                            <event id="insertBev_Euro" fexpression="E"> </event>
                        </events>
                    </feature>
                    <feature name="D">
                        <events>
                            <event id="insertBev_Dollar" fexpression="D"> </event>
                        </events>
                    </feature>
                </alternative>
                <event_constraints>
                    <conflicts>
                        <conflict>
                            <events>
                                <event id="insertBev_Euro"> </event>
                            </events>
                            <events>
                                <event id="insertBev_Dollar"> </event>
                            </events>
                        </conflict>
                    </conflicts>
                </event_constraints>
            </feature>
        </mandatory>
        <optional>
            <feature name="F">
                <events>
                    <event id="take_0" fexpression="F"> </event>
                    <event id="free" fexpression="F"> </event>
                </events>
            </feature>
        </optional>
        <optional>
            <feature name="R">
                <events>
                    <event id="ringSoup" fexpression="R"> </event>
                    <event id="ringBev" fexpression="R"> </event>
                </events>
            </feature>
        </optional>
        <mandatory>
            <feature name="BC">
                <mandatory>
                    <feature name="B">
                        <events>
                            <event id="pour_sugar_1" fexpression="B"> </event>
                            <event id="pour_sugar_2" fexpression="B"> </event>
                            <event id="sugar" fexpression="B"> </event>
                            <event id="no_sugar" fexpression="B"> </event>
                            <event id="pour_sugar_0" fexpression="B"> </event>
                        </events>
                        <mandatory>
                            <feature name="C">
                                <events>
                                    <event id="coffee_1" fexpression="C"> </event>
                                    <event id="coffee_0" fexpression="C"> </event>
                                    <event id="pour_coffee_1" fexpression="C"> </event>
                                </events>
                                <event_constraints>
                                    <conflicts>
                                        <conflict>
                                            <events>
                                                <event id="coffee_0"> </event>
                                            </events>
                                            <events>
                                                <event id="coffee_1"> </event>
                                            </events>
                                        </conflict>
                                    </conflicts>
                                </event_constraints>
                            </feature>
                        </mandatory>
                        <optional>
                            <feature name="T">
                                <events>
                                    <event id="pour_tea" fexpression="T"> </event>
                                    <event id="teaSoda" fexpression="T"> </event>
                                    <event id="tea_0" fexpression="T"> </event>
                                    <event id="serveTea" fexpression="T"> </event>
                                    <event id="tea_1" fexpression="T"> </event>
                                </events>
                                <event_constraints>
                                    <causalities>
                                        <causality target="pour_tea">
                                            <bundle>
                                                <event id="pour_sugar_1"> </event>
                                                <event id="tea_1"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="teaSoda">
                                            <bundle>
                                                <event id="change"> </event>
                                                <event id="free"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="tea_0">
                                            <bundle>
                                                <event id="sugar"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="serveTea">
                                            <bundle>
                                                <event id="teaSoda"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="tea_1">
                                            <bundle>
                                                <event id="no_sugar"> </event>
                                            </bundle>
                                        </causality>
                                    </causalities>
                                    <conflicts>
                                        <conflict>
                                            <events>
                                                <event id="tea_0"> </event>
                                            </events>
                                            <events>
                                                <event id="tea_1"> </event>
                                            </events>
                                        </conflict>
                                    </conflicts>
                                </event_constraints>
                            </feature>
                        </optional>
                        <optional>
                            <feature name="P">
                                <events>
                                    <event id="cappuccino_1" fexpression="P"> </event>
                                    <event id="pour_coffee_0" fexpression="P"> </event>
                                    <event id="cappuccino_0" fexpression="P"> </event>
                                    <event id="pour_milk_1" fexpression="P"> </event>
                                    <event id="pour_coffee_2" fexpression="P"> </event>
                                    <event id="pour_milk_0" fexpression="P"> </event>
                                </events>
                                <event_constraints>
                                    <causalities>
                                        <causality target="cappuccino_1">
                                            <bundle>
                                                <event id="no_sugar"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="pour_coffee_0">
                                            <bundle>
                                                <event id="pour_sugar_2"> </event>
                                                <event id="cappuccino_1"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="cappuccino_0">
                                            <bundle>
                                                <event id="sugar"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="pour_milk_1">
                                            <bundle>
                                                <event id="pour_coffee_0"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="pour_coffee_2">
                                            <bundle>
                                                <event id="pour_milk_0"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="pour_milk_0">
                                            <bundle>
                                                <event id="pour_sugar_2"> </event>
                                                <event id="cappuccino_1"> </event>
                                            </bundle>
                                        </causality>
                                    </causalities>
                                    <conflicts>
                                        <conflict>
                                            <events>
                                                <event id="cappuccino_0"> </event>
                                            </events>
                                            <events>
                                                <event id="cappuccino_1"> </event>
                                            </events>
                                        </conflict>
                                        <conflict>
                                            <events>
                                                <event id="pour_coffee_2"> </event>
                                                <event id="pour_milk_0"> </event>
                                            </events>
                                            <events>
                                                <event id="pour_coffee_0"> </event>
                                                <event id="pour_milk_1"> </event>
                                            </events>
                                        </conflict>
                                    </conflicts>
                                </event_constraints>
                            </feature>
                        </optional>
                        <optional>
                            <feature name="SD">
                                <events>
                                    <event id="serveSoda" fexpression="SD"> </event>
                                    <event id="soda" fexpression="SD"> </event>
                                </events>
                                <event_constraints>
                                    <causalities>
                                        <causality target="serveSoda">
                                            <bundle>
                                                <event id="soda"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="soda">
                                            <bundle>
                                                <event id="change"> </event>
                                                <event id="free"> </event>
                                            </bundle>
                                        </causality>
                                    </causalities>
                                </event_constraints>
                            </feature>
                        </optional>
                        <event_constraints>
                            <causalities>
                                <causality target="pour_sugar_1">
                                    <bundle>
                                        <event id="tea_0"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_sugar_2">
                                    <bundle>
                                        <event id="cappuccino_0"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_tea">
                                    <bundle>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="tea_1"> </event>
                                    </bundle>
                                </causality>
                                <causality target="coffee_1">
                                    <bundle>
                                        <event id="no_sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="cappuccino_1">
                                    <bundle>
                                        <event id="no_sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="coffee_0">
                                    <bundle>
                                        <event id="sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="teaSoda">
                                    <bundle>
                                        <event id="change"> </event>
                                        <event id="free"> </event>
                                    </bundle>
                                </causality>
                                <causality target="serveSoda">
                                    <bundle>
                                        <event id="soda"> </event>
                                    </bundle>
                                </causality>
                                <causality target="no_sugar">
                                    <bundle>
                                        <event id="insertBev_Euro"> </event>
                                        <event id="insertBev_Dollar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="soda">
                                    <bundle>
                                        <event id="change"> </event>
                                        <event id="free"> </event>
                                    </bundle>
                                </causality>
                                <causality target="cappuccino_0">
                                    <bundle>
                                        <event id="sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_milk_1">
                                    <bundle>
                                        <event id="pour_coffee_0"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_sugar_0">
                                    <bundle>
                                        <event id="coffee_0"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_milk_0">
                                    <bundle>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="cappuccino_1"> </event>
                                    </bundle>
                                </causality>
                                <causality target="sugar">
                                    <bundle>
                                        <event id="insertBev_Euro"> </event>
                                        <event id="insertBev_Dollar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="tea_0">
                                    <bundle>
                                        <event id="sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="serveTea">
                                    <bundle>
                                        <event id="teaSoda"> </event>
                                    </bundle>
                                </causality>
                                <causality target="tea_1">
                                    <bundle>
                                        <event id="no_sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_coffee_0">
                                    <bundle>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="cappuccino_1"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_coffee_2">
                                    <bundle>
                                        <event id="pour_milk_0"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_coffee_1">
                                    <bundle>
                                        <event id="coffee_1"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </bundle>
                                </causality>
                            </causalities>
                            <conflicts>
                                <conflict>
                                    <events>
                                        <event id="cappuccino_1"> </event>
                                        <event id="coffee_1"> </event>
                                        <event id="no_sugar"> </event>
                                        <event id="tea_1"> </event>
                                    </events>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="sugar"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="sugar"> </event>
                                        <event id="coffee_0"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </events>
                                    <events>
                                        <event id="no_sugar"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="cappuccino_1"> </event>
                                        <event id="coffee_1"> </event>
                                        <event id="coffee_0"> </event>
                                        <event id="pour_coffee_0"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_coffee_2"> </event>
                                        <event id="pour_milk_1"> </event>
                                        <event id="pour_coffee_1"> </event>
                                        <event id="pour_milk_0"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </events>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_tea"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="tea_1"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="pour_tea"> </event>
                                        <event id="cappuccino_1"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_milk_1"> </event>
                                        <event id="pour_milk_0"> </event>
                                        <event id="pour_sugar_0"> </event>
                                        <event id="sugar"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="tea_1"> </event>
                                        <event id="pour_coffee_0"> </event>
                                        <event id="pour_coffee_2"> </event>
                                    </events>
                                    <events>
                                        <event id="coffee_1"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="teaSoda"> </event>
                                        <event id="serveTea"> </event>
                                    </events>
                                    <events>
                                        <event id="serveSoda"> </event>
                                        <event id="soda"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="pour_tea"> </event>
                                        <event id="cappuccino_1"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="tea_1"> </event>
                                        <event id="pour_coffee_0"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_milk_1"> </event>
                                        <event id="pour_coffee_2"> </event>
                                        <event id="pour_milk_0"> </event>
                                    </events>
                                    <events>
                                        <event id="coffee_1"> </event>
                                        <event id="coffee_0"> </event>
                                        <event id="pour_coffee_1"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="pour_tea"> </event>
                                        <event id="cappuccino_1"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="no_sugar"> </event>
                                        <event id="tea_1"> </event>
                                        <event id="pour_coffee_0"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_coffee_2"> </event>
                                        <event id="pour_milk_1"> </event>
                                        <event id="pour_milk_0"> </event>
                                    </events>
                                    <events>
                                        <event id="coffee_0"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </events>
                                </conflict>
                            </conflicts>
                        </event_constraints>
                    </feature>
                </mandatory>
                <mandatory>
                    <feature name="W"></feature>
                </mandatory>
            </feature>
        </mandatory>
        <optional>
            <feature name="SC"></feature>
        </optional>
        <optional>
            <feature name="U">
                <events>
                    <event id="cup_present_2" fexpression="U"> </event>
                    <event id="cup_present_1" fexpression="U"> </event>
                    <event id="cup_present_0" fexpression="U"> </event>
                    <event id="no_cup_2" fexpression="U"> </event>
                    <event id="no_cup_1" fexpression="U"> </event>
                    <event id="no_cup_0" fexpression="U"> </event>
                </events>
                <event_constraints>
                    <conflicts>
                        <conflict>
                            <events>
                                <event id="cup_present_1"> </event>
                                <event id="cup_present_0"> </event>
                                <event id="no_cup_2"> </event>
                                <event id="no_cup_1"> </event>
                                <event id="no_cup_0"> </event>
                            </events>
                            <events>
                                <event id="cup_present_2"> </event>
                            </events>
                        </conflict>
                        <conflict>
                            <events>
                                <event id="cup_present_2"> </event>
                                <event id="cup_present_1"> </event>
                                <event id="no_cup_2"> </event>
                                <event id="no_cup_1"> </event>
                                <event id="no_cup_0"> </event>
                            </events>
                            <events>
                                <event id="cup_present_0"> </event>
                            </events>
                        </conflict>
                        <conflict>
                            <events>
                                <event id="cup_present_2"> </event>
                                <event id="cup_present_1"> </event>
                                <event id="cup_present_0"> </event>
                                <event id="no_cup_2"> </event>
                                <event id="no_cup_0"> </event>
                            </events>
                            <events>
                                <event id="no_cup_1"> </event>
                            </events>
                        </conflict>
                        <conflict>
                            <events>
                                <event id="cup_present_2"> </event>
                                <event id="cup_present_0"> </event>
                                <event id="no_cup_2"> </event>
                                <event id="no_cup_1"> </event>
                                <event id="no_cup_0"> </event>
                            </events>
                            <events>
                                <event id="cup_present_1"> </event>
                            </events>
                        </conflict>
                        <conflict>
                            <events>
                                <event id="cup_present_2"> </event>
                                <event id="cup_present_1"> </event>
                                <event id="cup_present_0"> </event>
                                <event id="no_cup_1"> </event>
                                <event id="no_cup_0"> </event>
                            </events>
                            <events>
                                <event id="no_cup_2"> </event>
                            </events>
                        </conflict>
                    </conflicts>
                </event_constraints>
            </feature>
        </optional>
        <mandatory>
            <feature name="S">
                <or>
                    <feature name="CS">
                        <events>
                            <event id="pour_chicken" fexpression="CS"> </event>
                            <event id="chicken" fexpression="CS"> </event>
                        </events>
                    </feature>
                    <feature name="PS">
                        <events>
                            <event id="pour_pea" fexpression="PS"> </event>
                            <event id="pea" fexpression="PS"> </event>
                        </events>
                    </feature>
                    <feature name="TS">
                        <events>
                            <event id="pour_tomato" fexpression="TS"> </event>
                            <event id="tomato" fexpression="TS"> </event>
                        </events>
                    </feature>
                </or>
                <event_constraints>
                    <conflicts>
                        <conflict>
                            <events>
                                <event id="pour_tomato"> </event>
                                <event id="tomato"> </event>
                                <event id="pour_pea"> </event>
                                <event id="pea"> </event>
                            </events>
                            <events>
                                <event id="pour_chicken"> </event>
                                <event id="chicken"> </event>
                            </events>
                        </conflict>
                        <conflict>
                            <events>
                                <event id="pour_tomato"> </event>
                                <event id="pour_chicken"> </event>
                                <event id="tomato"> </event>
                                <event id="chicken"> </event>
                            </events>
                            <events>
                                <event id="pour_pea"> </event>
                                <event id="pea"> </event>
                            </events>
                        </conflict>
                    </conflicts>
                </event_constraints>
            </feature>
        </mandatory>
        <optional>
            <feature name="X">
                <events>
                    <event id="cancelSoup_3" fexpression="X"> </event>
                    <event id="cancelSoda" fexpression="X"> </event>
                    <event id="cancelSoup_0" fexpression="X"> </event>
                    <event id="cancelSoup_2" fexpression="X"> </event>
                    <event id="cancelSoup_1" fexpression="X"> </event>
                    <event id="cancelBev" fexpression="X"> </event>
                    <event id="return" fexpression="X"> </event>
                </events>
                <event_constraints>
                    <causalities>
                        <causality target="cancelSoup_3">
                            <bundle>
                                <event id="no_cup_2"> </event>
                            </bundle>
                        </causality>
                        <causality target="cancelSoda">
                            <bundle>
                                <event id="change"> </event>
                                <event id="free"> </event>
                            </bundle>
                        </causality>
                        <causality target="cancelSoup_0">
                            <bundle>
                                <event id="insertSoup_Dollar"> </event>
                                <event id="insertSoup_Euro"> </event>
                            </bundle>
                        </causality>
                        <causality target="cancelSoup_2">
                            <bundle>
                                <event id="no_cup_1"> </event>
                            </bundle>
                        </causality>
                        <causality target="cancelSoup_1">
                            <bundle>
                                <event id="no_cup_0"> </event>
                            </bundle>
                        </causality>
                        <causality target="cancelBev">
                            <bundle>
                                <event id="insertBev_Euro"> </event>
                                <event id="insertBev_Dollar"> </event>
                            </bundle>
                        </causality>
                        <causality target="return">
                            <bundle>
                                <event id="cancelSoda"> </event>
                            </bundle>
                        </causality>
                    </causalities>
                    <conflicts>
                        <conflict>
                            <events>
                                <event id="cancelSoup_3"> </event>
                                <event id="cancelSoup_0"> </event>
                                <event id="cancelSoup_1"> </event>
                            </events>
                            <events>
                                <event id="cancelSoup_2"> </event>
                            </events>
                        </conflict>
                        <conflict>
                            <events>
                                <event id="cancelSoup_3"> </event>
                                <event id="cancelSoup_0"> </event>
                                <event id="cancelSoup_2"> </event>
                            </events>
                            <events>
                                <event id="cancelSoup_1"> </event>
                            </events>
                        </conflict>
                        <conflict>
                            <events>
                                <event id="cancelSoup_0"> </event>
                                <event id="cancelSoup_2"> </event>
                                <event id="cancelSoup_1"> </event>
                            </events>
                            <events>
                                <event id="cancelSoup_3"> </event>
                            </events>
                        </conflict>
                    </conflicts>
                </event_constraints>
            </feature>
        </optional>
        <feature_constraints>
            <feature_constraint fexpression="(!D || !P)"></feature_constraint>
            <feature_constraint fexpression="(!P || R)"></feature_constraint>
            <feature_constraint fexpression="(U || !(D &amp;&amp; SC))"></feature_constraint>
        </feature_constraints>
        <event_constraints>
            <causalities>
                <causality target="take_0">
                    <bundle>
                        <event id="serveSoda"> </event>
                        <event id="serveTea"> </event>
                    </bundle>
                </causality>
                <causality target="take_1">
                    <bundle>
                        <event id="open"> </event>
                    </bundle>
                </causality>
                <causality target="no_sugar">
                    <bundle>
                        <event id="insertBev_Euro"> </event>
                        <event id="insertBev_Dollar"> </event>
                    </bundle>
                </causality>
                <causality target="pour_milk_1">
                    <bundle>
                        <event id="pour_coffee_0"> </event>
                    </bundle>
                </causality>
                <causality target="pea">
                    <bundle>
                        <event id="insertSoup_Dollar"> </event>
                        <event id="insertSoup_Euro"> </event>
                    </bundle>
                </causality>
                <causality target="pour_milk_0">
                    <bundle>
                        <event id="pour_sugar_2"> </event>
                        <event id="cappuccino_1"> </event>
                    </bundle>
                </causality>
                <causality target="take_cup">
                    <bundle>
                        <event id="skip_0"> </event>
                        <event id="ringBev"> </event>
                    </bundle>
                </causality>
                <causality target="skip_0">
                    <bundle>
                        <event id="pour_tea"> </event>
                        <event id="pour_coffee_2"> </event>
                        <event id="pour_milk_1"> </event>
                        <event id="pour_coffee_1"> </event>
                    </bundle>
                </causality>
                <causality target="skip_3">
                    <bundle>
                        <event id="pour_tomato"> </event>
                        <event id="pour_chicken"> </event>
                        <event id="pour_pea"> </event>
                    </bundle>
                </causality>
                <causality target="skip_4">
                    <bundle>
                        <event id="tomato"> </event>
                    </bundle>
                </causality>
                <causality target="skip_1">
                    <bundle>
                        <event id="chicken"> </event>
                    </bundle>
                </causality>
                <causality target="teaSoda">
                    <bundle>
                        <event id="change"> </event>
                        <event id="free"> </event>
                    </bundle>
                </causality>
                <causality target="serveSoda">
                    <bundle>
                        <event id="soda"> </event>
                    </bundle>
                </causality>
                <causality target="skip_2">
                    <bundle>
                        <event id="take_0"> </event>
                    </bundle>
                    <bundle>
                        <event id="pea"> </event>
                    </bundle>
                </causality>
                <causality target="pour_chicken">
                    <bundle>
                        <event id="skip_1"> </event>
                        <event id="cup_present_1"> </event>
                    </bundle>
                </causality>
                <causality target="no_cup_2">
                    <bundle>
                        <event id="pea"> </event>
                    </bundle>
                </causality>
                <causality target="no_cup_1">
                    <bundle>
                        <event id="chicken"> </event>
                    </bundle>
                </causality>
                <causality target="bad_luck">
                    <bundle>
                        <event id="skip_3"> </event>
                        <event id="ringSoup"> </event>
                    </bundle>
                </causality>
                <causality target="no_cup_0">
                    <bundle>
                        <event id="tomato"> </event>
                    </bundle>
                </causality>
                <causality target="sugar">
                    <bundle>
                        <event id="insertBev_Euro"> </event>
                        <event id="insertBev_Dollar"> </event>
                    </bundle>
                </causality>
                <causality target="ringBev">
                    <bundle>
                        <event id="pour_tea"> </event>
                        <event id="pour_coffee_2"> </event>
                        <event id="pour_milk_1"> </event>
                        <event id="pour_coffee_1"> </event>
                    </bundle>
                </causality>
                <causality target="serveTea">
                    <bundle>
                        <event id="teaSoda"> </event>
                    </bundle>
                </causality>
                <causality target="pour_coffee_0">
                    <bundle>
                        <event id="pour_sugar_2"> </event>
                        <event id="cappuccino_1"> </event>
                    </bundle>
                </causality>
                <causality target="pour_coffee_2">
                    <bundle>
                        <event id="pour_milk_0"> </event>
                    </bundle>
                </causality>
                <causality target="pour_coffee_1">
                    <bundle>
                        <event id="coffee_1"> </event>
                        <event id="pour_sugar_0"> </event>
                    </bundle>
                </causality>
                <causality target="pour_tea">
                    <bundle>
                        <event id="pour_sugar_1"> </event>
                        <event id="tea_1"> </event>
                    </bundle>
                </causality>
                <causality target="coffee_1">
                    <bundle>
                        <event id="no_sugar"> </event>
                    </bundle>
                </causality>
                <causality target="cappuccino_1">
                    <bundle>
                        <event id="no_sugar"> </event>
                    </bundle>
                </causality>
                <causality target="coffee_0">
                    <bundle>
                        <event id="sugar"> </event>
                    </bundle>
                </causality>
                <causality target="cancelSoup_3">
                    <bundle>
                        <event id="no_cup_2"> </event>
                    </bundle>
                </causality>
                <causality target="cup_present_2">
                    <bundle>
                        <event id="take_0"> </event>
                    </bundle>
                    <bundle>
                        <event id="pea"> </event>
                    </bundle>
                </causality>
                <causality target="cancelSoup_0">
                    <bundle>
                        <event id="insertSoup_Dollar"> </event>
                        <event id="insertSoup_Euro"> </event>
                    </bundle>
                </causality>
                <causality target="cancelSoup_2">
                    <bundle>
                        <event id="no_cup_1"> </event>
                    </bundle>
                </causality>
                <causality target="cancelSoup_1">
                    <bundle>
                        <event id="no_cup_0"> </event>
                    </bundle>
                </causality>
                <causality target="tomato">
                    <bundle>
                        <event id="insertSoup_Dollar"> </event>
                        <event id="insertSoup_Euro"> </event>
                    </bundle>
                </causality>
                <causality target="cappuccino_0">
                    <bundle>
                        <event id="sugar"> </event>
                    </bundle>
                </causality>
                <causality target="chicken">
                    <bundle>
                        <event id="insertSoup_Dollar"> </event>
                        <event id="insertSoup_Euro"> </event>
                    </bundle>
                </causality>
                <causality target="tea_0">
                    <bundle>
                        <event id="sugar"> </event>
                    </bundle>
                </causality>
                <causality target="tea_1">
                    <bundle>
                        <event id="no_sugar"> </event>
                    </bundle>
                </causality>
                <causality target="cup_present_1">
                    <bundle>
                        <event id="chicken"> </event>
                    </bundle>
                </causality>
                <causality target="cup_present_0">
                    <bundle>
                        <event id="tomato"> </event>
                    </bundle>
                </causality>
                <causality target="cancelBev">
                    <bundle>
                        <event id="insertBev_Euro"> </event>
                        <event id="insertBev_Dollar"> </event>
                    </bundle>
                </causality>
                <causality target="pour_pea">
                    <bundle>
                        <event id="cup_present_2"> </event>
                        <event id="skip_2"> </event>
                    </bundle>
                </causality>
                <causality target="close">
                    <bundle>
                        <event id="take_1"> </event>
                    </bundle>
                </causality>
                <causality target="pour_sugar_1">
                    <bundle>
                        <event id="tea_0"> </event>
                    </bundle>
                </causality>
                <causality target="pour_sugar_2">
                    <bundle>
                        <event id="cappuccino_0"> </event>
                    </bundle>
                </causality>
                <causality target="change">
                    <bundle>
                        <event id="pay"> </event>
                    </bundle>
                </causality>
                <causality target="cancelSoda">
                    <bundle>
                        <event id="change"> </event>
                        <event id="free"> </event>
                    </bundle>
                </causality>
                <causality target="soda">
                    <bundle>
                        <event id="change"> </event>
                        <event id="free"> </event>
                    </bundle>
                </causality>
                <causality target="take_soup">
                    <bundle>
                        <event id="skip_3"> </event>
                        <event id="ringSoup"> </event>
                    </bundle>
                </causality>
                <causality target="pour_sugar_0">
                    <bundle>
                        <event id="coffee_0"> </event>
                    </bundle>
                </causality>
                <causality target="pour_tomato">
                    <bundle>
                        <event id="skip_4"> </event>
                        <event id="cup_present_0"> </event>
                    </bundle>
                </causality>
                <causality target="ringSoup">
                    <bundle>
                        <event id="pour_tomato"> </event>
                        <event id="pour_chicken"> </event>
                        <event id="pour_pea"> </event>
                    </bundle>
                </causality>
                <causality target="open">
                    <bundle>
                        <event id="serveSoda"> </event>
                        <event id="serveTea"> </event>
                    </bundle>
                </causality>
                <causality target="return">
                    <bundle>
                        <event id="cancelSoda"> </event>
                    </bundle>
                </causality>
            </causalities>
            <conflicts>
                <conflict>
                    <events>
                        <event id="insertSoup_Dollar"> </event>
                    </events>
                    <events>
                        <event id="insertSoup_Euro"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="pour_tomato"> </event>
                        <event id="skip_4"> </event>
                        <event id="cancelSoup_3"> </event>
                        <event id="skip_1"> </event>
                        <event id="skip_2"> </event>
                        <event id="pour_chicken"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="tomato"> </event>
                        <event id="chicken"> </event>
                    </events>
                    <events>
                        <event id="cup_present_2"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_3"> </event>
                        <event id="skip_4"> </event>
                        <event id="skip_1"> </event>
                        <event id="skip_2"> </event>
                        <event id="pour_chicken"> </event>
                        <event id="cup_present_2"> </event>
                        <event id="take_soup"> </event>
                        <event id="no_cup_2"> </event>
                        <event id="pea"> </event>
                        <event id="no_cup_1"> </event>
                        <event id="bad_luck"> </event>
                        <event id="chicken"> </event>
                        <event id="pour_tomato"> </event>
                        <event id="ringSoup"> </event>
                        <event id="cup_present_1"> </event>
                        <event id="cup_present_0"> </event>
                        <event id="pour_pea"> </event>
                    </events>
                    <events>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_1"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="pour_sugar_1"> </event>
                        <event id="skip_0"> </event>
                        <event id="pour_tea"> </event>
                        <event id="pour_sugar_2"> </event>
                        <event id="coffee_1"> </event>
                        <event id="cappuccino_1"> </event>
                        <event id="coffee_0"> </event>
                        <event id="no_sugar"> </event>
                        <event id="cappuccino_0"> </event>
                        <event id="pour_milk_1"> </event>
                        <event id="pour_milk_0"> </event>
                        <event id="pour_sugar_0"> </event>
                        <event id="sugar"> </event>
                        <event id="tea_0"> </event>
                        <event id="ringBev"> </event>
                        <event id="tea_1"> </event>
                        <event id="pour_coffee_0"> </event>
                        <event id="take_cup"> </event>
                        <event id="pour_coffee_2"> </event>
                        <event id="pour_coffee_1"> </event>
                    </events>
                    <events>
                        <event id="cancelBev"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_3"> </event>
                        <event id="skip_4"> </event>
                        <event id="skip_1"> </event>
                        <event id="skip_2"> </event>
                        <event id="pour_chicken"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="take_soup"> </event>
                        <event id="tomato"> </event>
                        <event id="chicken"> </event>
                        <event id="bad_luck"> </event>
                        <event id="pour_tomato"> </event>
                        <event id="ringSoup"> </event>
                        <event id="pour_pea"> </event>
                    </events>
                    <events>
                        <event id="no_cup_2"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="change"> </event>
                        <event id="pay"> </event>
                    </events>
                    <events>
                        <event id="free"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_3"> </event>
                        <event id="skip_4"> </event>
                        <event id="cancelSoup_3"> </event>
                        <event id="skip_1"> </event>
                        <event id="skip_2"> </event>
                        <event id="pour_chicken"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="take_soup"> </event>
                        <event id="tomato"> </event>
                        <event id="pea"> </event>
                        <event id="bad_luck"> </event>
                        <event id="pour_tomato"> </event>
                        <event id="ringSoup"> </event>
                        <event id="pour_pea"> </event>
                    </events>
                    <events>
                        <event id="no_cup_1"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_4"> </event>
                        <event id="cancelSoup_3"> </event>
                        <event id="skip_1"> </event>
                        <event id="skip_2"> </event>
                        <event id="pour_chicken"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="pour_pea"> </event>
                        <event id="pea"> </event>
                        <event id="chicken"> </event>
                    </events>
                    <events>
                        <event id="cup_present_0"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cancelSoda"> </event>
                        <event id="return"> </event>
                    </events>
                    <events>
                        <event id="take_0"> </event>
                        <event id="teaSoda"> </event>
                        <event id="serveSoda"> </event>
                        <event id="serveTea"> </event>
                        <event id="take_1"> </event>
                        <event id="soda"> </event>
                        <event id="open"> </event>
                        <event id="close"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="pour_tomato"> </event>
                        <event id="skip_4"> </event>
                        <event id="cancelSoup_3"> </event>
                        <event id="skip_1"> </event>
                        <event id="skip_2"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="tomato"> </event>
                        <event id="pour_pea"> </event>
                        <event id="pea"> </event>
                    </events>
                    <events>
                        <event id="cup_present_1"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cancelSoup_3"> </event>
                        <event id="skip_4"> </event>
                        <event id="skip_2"> </event>
                        <event id="cup_present_2"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cup_present_0"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="no_cup_2"> </event>
                        <event id="no_cup_0"> </event>
                    </events>
                    <events>
                        <event id="skip_1"> </event>
                        <event id="pour_chicken"> </event>
                        <event id="chicken"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_4"> </event>
                        <event id="cancelSoup_3"> </event>
                        <event id="skip_1"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cup_present_1"> </event>
                        <event id="cup_present_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="no_cup_2"> </event>
                        <event id="no_cup_1"> </event>
                        <event id="no_cup_0"> </event>
                    </events>
                    <events>
                        <event id="skip_2"> </event>
                        <event id="pour_pea"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cancelSoup_3"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="take_soup"> </event>
                        <event id="no_cup_2"> </event>
                        <event id="no_cup_1"> </event>
                        <event id="no_cup_0"> </event>
                    </events>
                    <events>
                        <event id="bad_luck"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_3"> </event>
                        <event id="skip_4"> </event>
                        <event id="cancelSoup_3"> </event>
                        <event id="skip_1"> </event>
                        <event id="skip_2"> </event>
                        <event id="pour_chicken"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="take_soup"> </event>
                        <event id="pea"> </event>
                        <event id="chicken"> </event>
                        <event id="bad_luck"> </event>
                        <event id="pour_tomato"> </event>
                        <event id="ringSoup"> </event>
                        <event id="pour_pea"> </event>
                    </events>
                    <events>
                        <event id="no_cup_0"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cancelSoup_3"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="no_cup_2"> </event>
                        <event id="no_cup_1"> </event>
                        <event id="no_cup_0"> </event>
                        <event id="bad_luck"> </event>
                    </events>
                    <events>
                        <event id="take_soup"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cancelSoup_3"> </event>
                        <event id="ringSoup"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="no_cup_2"> </event>
                        <event id="no_cup_1"> </event>
                        <event id="no_cup_0"> </event>
                    </events>
                    <events>
                        <event id="skip_3"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_4"> </event>
                        <event id="ringSoup"> </event>
                        <event id="skip_1"> </event>
                        <event id="cup_present_1"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cup_present_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="no_cup_1"> </event>
                        <event id="no_cup_0"> </event>
                    </events>
                    <events>
                        <event id="pea"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_3"> </event>
                        <event id="cancelSoup_3"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="no_cup_2"> </event>
                        <event id="pea"> </event>
                        <event id="no_cup_1"> </event>
                        <event id="no_cup_0"> </event>
                    </events>
                    <events>
                        <event id="ringSoup"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_0"> </event>
                        <event id="cancelBev"> </event>
                    </events>
                    <events>
                        <event id="ringBev"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="take_0"> </event>
                        <event id="cancelSoda"> </event>
                        <event id="return"> </event>
                    </events>
                    <events>
                        <event id="take_1"> </event>
                        <event id="open"> </event>
                        <event id="close"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cancelSoup_3"> </event>
                        <event id="skip_1"> </event>
                        <event id="skip_2"> </event>
                        <event id="cup_present_2"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cup_present_1"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="no_cup_2"> </event>
                        <event id="no_cup_1"> </event>
                    </events>
                    <events>
                        <event id="pour_tomato"> </event>
                        <event id="skip_4"> </event>
                        <event id="tomato"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="skip_4"> </event>
                        <event id="cancelSoup_3"> </event>
                        <event id="skip_2"> </event>
                        <event id="cup_present_2"> </event>
                        <event id="cancelSoup_0"> </event>
                        <event id="cup_present_0"> </event>
                        <event id="cancelSoup_2"> </event>
                        <event id="cancelSoup_1"> </event>
                        <event id="no_cup_2"> </event>
                        <event id="no_cup_1"> </event>
                        <event id="no_cup_0"> </event>
                    </events>
                    <events>
                        <event id="skip_1"> </event>
                        <event id="pour_chicken"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="take_0"> </event>
                        <event id="free"> </event>
                    </events>
                    <events>
                        <event id="pay"> </event>
                    </events>
                </conflict>
            </conflicts>
        </event_constraints>
    </feature>
</bfm>