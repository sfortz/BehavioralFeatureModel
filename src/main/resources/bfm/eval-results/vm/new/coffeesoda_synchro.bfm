<?xml version="1.0" encoding="UTF-8"?>
<bfm namespace="VendingMachine">
    <feature name="M">
        <events>
            <event id="insert_Euro" fexpression="(E &amp;&amp; !F)"> </event>
            <event id="change" fexpression="!F"> </event>
            <event id="insert_Dollar" fexpression="(D &amp;&amp; !F)"> </event>
            <event id="skipBev"> </event>
            <event id="open" fexpression="!F"> </event>
            <event id="take" fexpression="(!F &amp;&amp; M)"> </event>
            <event id="close" fexpression="!F"> </event>
        </events>
        <mandatory>
            <feature name="O">
                <alternative>
                    <feature name="E"></feature>
                    <feature name="D"></feature>
                </alternative>
            </feature>
        </mandatory>
        <optional>
            <feature name="F">
                <events>
                    <event id="take_0" fexpression="F"> </event>
                    <event id="free" fexpression="F"> </event>
                </events>
            </feature>
        </optional>
        <optional>
            <feature name="R">
                <events>
                    <event id="ringBev" fexpression="R"> </event>
                </events>
            </feature>
        </optional>
        <mandatory>
            <feature name="BC">
                <mandatory>
                    <feature name="B">
                        <events>
                            <event id="pour_sugar_1" fexpression="B"> </event>
                            <event id="pour_sugar_2" fexpression="B"> </event>
                            <event id="sugar" fexpression="B"> </event>
                            <event id="no_sugar" fexpression="B"> </event>
                            <event id="pour_sugar_0" fexpression="B"> </event>
                        </events>
                        <mandatory>
                            <feature name="C">
                                <events>
                                    <event id="coffee_1" fexpression="C"> </event>
                                    <event id="coffee_0" fexpression="C"> </event>
                                    <event id="pour_coffee_1" fexpression="C"> </event>
                                </events>
                                <event_constraints>
                                    <conflicts>
                                        <conflict>
                                            <events>
                                                <event id="coffee_0"> </event>
                                            </events>
                                            <events>
                                                <event id="coffee_1"> </event>
                                            </events>
                                        </conflict>
                                    </conflicts>
                                </event_constraints>
                            </feature>
                        </mandatory>
                        <optional>
                            <feature name="T">
                                <events>
                                    <event id="pour_tea" fexpression="T"> </event>
                                    <event id="tea_0" fexpression="T"> </event>
                                    <event id="tea_1" fexpression="T"> </event>
                                </events>
                                <event_constraints>
                                    <conflicts>
                                        <conflict>
                                            <events>
                                                <event id="tea_0"> </event>
                                            </events>
                                            <events>
                                                <event id="tea_1"> </event>
                                            </events>
                                        </conflict>
                                    </conflicts>
                                </event_constraints>
                            </feature>
                        </optional>
                        <optional>
                            <feature name="P">
                                <events>
                                    <event id="cappuccino_1" fexpression="P"> </event>
                                    <event id="pour_coffee_0" fexpression="P"> </event>
                                    <event id="cappuccino_0" fexpression="P"> </event>
                                    <event id="pour_milk_1" fexpression="P"> </event>
                                    <event id="pour_coffee_2" fexpression="P"> </event>
                                    <event id="pour_milk_0" fexpression="P"> </event>
                                </events>
                                <event_constraints>
                                    <causalities>
                                        <causality target="pour_coffee_2">
                                            <bundle>
                                                <event id="pour_milk_0"> </event>
                                            </bundle>
                                        </causality>
                                        <causality target="pour_milk_1">
                                            <bundle>
                                                <event id="pour_coffee_0"> </event>
                                            </bundle>
                                        </causality>
                                    </causalities>
                                    <conflicts>
                                        <conflict>
                                            <events>
                                                <event id="cappuccino_0"> </event>
                                            </events>
                                            <events>
                                                <event id="cappuccino_1"> </event>
                                            </events>
                                        </conflict>
                                        <conflict>
                                            <events>
                                                <event id="pour_coffee_2"> </event>
                                                <event id="pour_milk_0"> </event>
                                            </events>
                                            <events>
                                                <event id="pour_coffee_0"> </event>
                                                <event id="pour_milk_1"> </event>
                                            </events>
                                        </conflict>
                                    </conflicts>
                                </event_constraints>
                            </feature>
                        </optional>
                        <optional>
                            <feature name="SD">
                                <events>
                                    <event id="serveSoda" fexpression="SD"> </event>
                                    <event id="soda" fexpression="SD"> </event>
                                </events>
                                <event_constraints>
                                    <causalities>
                                        <causality target="serveSoda">
                                            <bundle>
                                                <event id="soda"> </event>
                                            </bundle>
                                        </causality>
                                    </causalities>
                                </event_constraints>
                            </feature>
                        </optional>
                        <event_constraints>
                            <causalities>
                                <causality target="tea_0">
                                    <bundle>
                                        <event id="sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_sugar_2">
                                    <bundle>
                                        <event id="cappuccino_0"> </event>
                                    </bundle>
                                </causality>
                                <causality target="coffee_1">
                                    <bundle>
                                        <event id="no_sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="cappuccino_1">
                                    <bundle>
                                        <event id="no_sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_coffee_1">
                                    <bundle>
                                        <event id="coffee_1"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_sugar_0">
                                    <bundle>
                                        <event id="coffee_0"> </event>
                                    </bundle>
                                </causality>
                                <causality target="tea_1">
                                    <bundle>
                                        <event id="no_sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_tea">
                                    <bundle>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="tea_1"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_milk_0">
                                    <bundle>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="cappuccino_1"> </event>
                                    </bundle>
                                </causality>
                                <causality target="cappuccino_0">
                                    <bundle>
                                        <event id="sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_sugar_1">
                                    <bundle>
                                        <event id="tea_0"> </event>
                                    </bundle>
                                </causality>
                                <causality target="coffee_0">
                                    <bundle>
                                        <event id="sugar"> </event>
                                    </bundle>
                                </causality>
                                <causality target="pour_coffee_0">
                                    <bundle>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="cappuccino_1"> </event>
                                    </bundle>
                                </causality>
                            </causalities>
                            <conflicts>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="pour_tea"> </event>
                                        <event id="cappuccino_1"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="no_sugar"> </event>
                                        <event id="tea_1"> </event>
                                        <event id="pour_coffee_0"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_coffee_2"> </event>
                                        <event id="pour_milk_1"> </event>
                                        <event id="pour_milk_0"> </event>
                                    </events>
                                    <events>
                                        <event id="coffee_0"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="sugar"> </event>
                                        <event id="coffee_0"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </events>
                                    <events>
                                        <event id="no_sugar"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="pour_tea"> </event>
                                        <event id="cappuccino_1"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="tea_1"> </event>
                                        <event id="pour_coffee_0"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_milk_1"> </event>
                                        <event id="pour_coffee_2"> </event>
                                        <event id="pour_milk_0"> </event>
                                    </events>
                                    <events>
                                        <event id="coffee_1"> </event>
                                        <event id="coffee_0"> </event>
                                        <event id="pour_coffee_1"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="cappuccino_1"> </event>
                                        <event id="coffee_1"> </event>
                                        <event id="no_sugar"> </event>
                                        <event id="tea_1"> </event>
                                    </events>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="sugar"> </event>
                                        <event id="pour_sugar_0"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="pour_tea"> </event>
                                        <event id="cappuccino_1"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_milk_1"> </event>
                                        <event id="pour_milk_0"> </event>
                                        <event id="pour_sugar_0"> </event>
                                        <event id="sugar"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="tea_1"> </event>
                                        <event id="pour_coffee_0"> </event>
                                        <event id="pour_coffee_2"> </event>
                                    </events>
                                    <events>
                                        <event id="coffee_1"> </event>
                                    </events>
                                </conflict>
                                <conflict>
                                    <events>
                                        <event id="pour_sugar_2"> </event>
                                        <event id="cappuccino_1"> </event>
                                        <event id="coffee_1"> </event>
                                        <event id="coffee_0"> </event>
                                        <event id="serveSoda"> </event>
                                        <event id="soda"> </event>
                                        <event id="cappuccino_0"> </event>
                                        <event id="pour_milk_1"> </event>
                                        <event id="pour_milk_0"> </event>
                                        <event id="pour_sugar_0"> </event>
                                        <event id="pour_coffee_0"> </event>
                                        <event id="pour_coffee_2"> </event>
                                        <event id="pour_coffee_1"> </event>
                                    </events>
                                    <events>
                                        <event id="pour_sugar_1"> </event>
                                        <event id="pour_tea"> </event>
                                        <event id="tea_0"> </event>
                                        <event id="tea_1"> </event>
                                    </events>
                                </conflict>
                            </conflicts>
                        </event_constraints>
                    </feature>
                </mandatory>
                <mandatory>
                    <feature name="W"></feature>
                </mandatory>
            </feature>
        </mandatory>
        <optional>
            <feature name="X">
                <events>
                    <event id="cancel" fexpression="X"> </event>
                    <event id="return" fexpression="X"> </event>
                </events>
                <event_constraints>
                    <causalities>
                        <causality target="return">
                            <bundle>
                                <event id="cancel"> </event>
                            </bundle>
                        </causality>
                    </causalities>
                </event_constraints>
            </feature>
        </optional>
        <feature_constraints>
            <feature_constraint fexpression="(!D || !P)"></feature_constraint>
            <feature_constraint fexpression="(!P || R)"></feature_constraint>
        </feature_constraints>
        <event_constraints>
            <causalities>
                <causality target="change">
                    <bundle>
                        <event id="insert_Euro"> </event>
                        <event id="insert_Dollar"> </event>
                    </bundle>
                </causality>
                <causality target="take">
                    <bundle>
                        <event id="ringBev"> </event>
                        <event id="skipBev"> </event>
                    </bundle>
                </causality>
                <causality target="cancel">
                    <bundle>
                        <event id="change"> </event>
                    </bundle>
                </causality>
                <causality target="no_sugar">
                    <bundle>
                        <event id="insert_Euro"> </event>
                        <event id="insert_Dollar"> </event>
                    </bundle>
                </causality>
                <causality target="soda">
                    <bundle>
                        <event id="change"> </event>
                        <event id="free"> </event>
                    </bundle>
                </causality>
                <causality target="skipBev">
                    <bundle>
                        <event id="pour_tea"> </event>
                        <event id="pour_coffee_2"> </event>
                        <event id="pour_milk_1"> </event>
                        <event id="pour_coffee_1"> </event>
                    </bundle>
                </causality>
                <causality target="cappuccino_0">
                    <bundle>
                        <event id="take_0"> </event>
                    </bundle>
                </causality>
                <causality target="ringBev">
                    <bundle>
                        <event id="pour_tea"> </event>
                        <event id="pour_coffee_2"> </event>
                        <event id="pour_milk_1"> </event>
                        <event id="pour_coffee_1"> </event>
                    </bundle>
                </causality>
                <causality target="take_0">
                    <bundle>
                        <event id="pour_tea"> </event>
                        <event id="serveSoda"> </event>
                    </bundle>
                </causality>
                <causality target="tea_1">
                    <bundle>
                        <event id="change"> </event>
                    </bundle>
                </causality>
                <causality target="pour_milk_0">
                    <bundle>
                        <event id="take_0"> </event>
                    </bundle>
                </causality>
                <causality target="sugar">
                    <bundle>
                        <event id="insert_Euro"> </event>
                        <event id="insert_Dollar"> </event>
                    </bundle>
                </causality>
                <causality target="close">
                    <bundle>
                        <event id="take"> </event>
                    </bundle>
                </causality>
                <causality target="open">
                    <bundle>
                        <event id="pour_tea"> </event>
                        <event id="serveSoda"> </event>
                    </bundle>
                </causality>
                <causality target="take">
                    <bundle>
                        <event id="open"> </event>
                    </bundle>
                </causality>
                <causality target="tea_0">
                    <bundle>
                        <event id="change"> </event>
                    </bundle>
                </causality>
            </causalities>
            <conflicts>
                <conflict>
                    <events>
                        <event id="cancel"> </event>
                        <event id="ringBev"> </event>
                        <event id="return"> </event>
                        <event id="free"> </event>
                    </events>
                    <events>
                        <event id="skipBev"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="insert_Euro"> </event>
                        <event id="insert_Dollar"> </event>
                        <event id="cancel"> </event>
                        <event id="open"> </event>
                        <event id="take"> </event>
                        <event id="return"> </event>
                        <event id="close"> </event>
                    </events>
                    <events>
                        <event id="take_0"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cancel"> </event>
                        <event id="return"> </event>
                        <event id="free"> </event>
                    </events>
                    <events>
                        <event id="pour_sugar_1"> </event>
                        <event id="pour_tea"> </event>
                        <event id="pour_sugar_2"> </event>
                        <event id="coffee_1"> </event>
                        <event id="cappuccino_1"> </event>
                        <event id="coffee_0"> </event>
                        <event id="no_sugar"> </event>
                        <event id="skipBev"> </event>
                        <event id="cappuccino_0"> </event>
                        <event id="pour_milk_1"> </event>
                        <event id="pour_milk_0"> </event>
                        <event id="pour_sugar_0"> </event>
                        <event id="sugar"> </event>
                        <event id="tea_0"> </event>
                        <event id="tea_1"> </event>
                        <event id="ringBev"> </event>
                        <event id="pour_coffee_0"> </event>
                        <event id="take"> </event>
                        <event id="close"> </event>
                        <event id="pour_coffee_2"> </event>
                        <event id="pour_coffee_1"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="take_0"> </event>
                        <event id="insert_Dollar"> </event>
                        <event id="free"> </event>
                    </events>
                    <events>
                        <event id="insert_Euro"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="take_0"> </event>
                        <event id="cancel"> </event>
                        <event id="return"> </event>
                    </events>
                    <events>
                        <event id="open"> </event>
                        <event id="take"> </event>
                        <event id="close"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="pour_tea"> </event>
                        <event id="coffee_1"> </event>
                        <event id="cappuccino_1"> </event>
                        <event id="coffee_0"> </event>
                        <event id="no_sugar"> </event>
                        <event id="cancel"> </event>
                        <event id="cappuccino_0"> </event>
                        <event id="pour_milk_1"> </event>
                        <event id="pour_milk_0"> </event>
                        <event id="insert_Euro"> </event>
                        <event id="tea_0"> </event>
                        <event id="tea_1"> </event>
                        <event id="close"> </event>
                        <event id="pour_sugar_1"> </event>
                        <event id="pour_sugar_2"> </event>
                        <event id="change"> </event>
                        <event id="skipBev"> </event>
                        <event id="pour_sugar_0"> </event>
                        <event id="sugar"> </event>
                        <event id="ringBev"> </event>
                        <event id="insert_Dollar"> </event>
                        <event id="pour_coffee_0"> </event>
                        <event id="take"> </event>
                        <event id="return"> </event>
                        <event id="pour_coffee_2"> </event>
                        <event id="pour_coffee_1"> </event>
                    </events>
                    <events>
                        <event id="free"> </event>
                    </events>
                </conflict>
                <conflict>
                    <events>
                        <event id="cancel"> </event>
                        <event id="return"> </event>
                    </events>
                    <events>
                        <event id="take_0"> </event>
                        <event id="pour_tea"> </event>
                        <event id="coffee_1"> </event>
                        <event id="cappuccino_1"> </event>
                        <event id="coffee_0"> </event>
                        <event id="no_sugar"> </event>
                        <event id="cappuccino_0"> </event>
                        <event id="pour_milk_1"> </event>
                        <event id="pour_milk_0"> </event>
                        <event id="tea_0"> </event>
                        <event id="tea_1"> </event>
                        <event id="close"> </event>
                        <event id="free"> </event>
                        <event id="pour_sugar_1"> </event>
                        <event id="pour_sugar_2"> </event>
                        <event id="serveSoda"> </event>
                        <event id="soda"> </event>
                        <event id="skipBev"> </event>
                        <event id="pour_sugar_0"> </event>
                        <event id="sugar"> </event>
                        <event id="ringBev"> </event>
                        <event id="pour_coffee_0"> </event>
                        <event id="open"> </event>
                        <event id="take"> </event>
                        <event id="pour_coffee_2"> </event>
                        <event id="pour_coffee_1"> </event>
                    </events>
                </conflict>
            </conflicts>
        </event_constraints>
    </feature>
</bfm>