act
  insertBev_Euro, insertBev_Dollar, insertSoup_Euro, insertSoup_Dollar,
  cancelBev, cancelSoup_0, cancelSoup_1, cancelSoup_2, cancelSoup_3,
  sugar, no_sugar, pour_sugar_0, pour_sugar_1, pour_sugar_2,
  tomato, chicken, pea,
  coffee_0, coffee_1, tea_0, tea_1, cappuccino_0, cappuccino_1,
  pour_coffee_0, pour_coffee_1, pour_coffee_2, pour_tea, pour_milk_0, pour_milk_1,
  pour_tomato, pour_chicken, pour_pea,
  no_cup_0, no_cup_1, no_cup_2, cup_present_0, cup_present_1, cup_present_2,
  take_cup, take_soup,
  skip_0, skip_1, skip_2, skip_3, skip_4,
  bad_luck, ringBev, ringSoup,
  pay, free, change,
  cancelSoda, return,
  teaSoda, soda,
  serveTea, serveSoda,
  open, take_0, take_1, close;

proc
  S1 = pay.S2 + free.S3;
  S2 = change.S3;
  S3 = cancelSoda.S4 + teaSoda.S6 + soda.S5;
  S4 = return.S10;
  S5 = serveSoda.S7;
  S6 = serveTea.S7;
  S7 = open.S8 + take_0.S10;
  S8 = take_1.S9;
  S9 = close.S10;
  S10 = delta; 
  SodaComponent = S1;

proc
  Soup_S0 = insertSoup_Euro.Soup_S1 + insertSoup_Dollar.Soup_S1;
  Soup_S1 = cancelSoup_0.Soup_S13 + tomato.Soup_S2 + chicken.Soup_S4 + pea.Soup_S6;
  Soup_S2 = no_cup_0.Soup_S3 + cup_present_0.Soup_S8 + skip_4.Soup_S8;
  Soup_S3 = cancelSoup_1.Soup_S13;
  Soup_S4 = no_cup_1.Soup_S5 + cup_present_1.Soup_S9 + skip_1.Soup_S9;
  Soup_S5 = cancelSoup_2.Soup_S13;
  Soup_S6 = no_cup_2.Soup_S7 + cup_present_2.Soup_S10 + skip_2.Soup_S10;
  Soup_S7 = cancelSoup_3.Soup_S13;
  Soup_S8 = pour_tomato.Soup_S11;
  Soup_S9 = pour_chicken.Soup_S11;
  Soup_S10 = pour_pea.Soup_S11;
  Soup_S11 = ringSoup.Soup_S12 + skip_3.Soup_S12;
  Soup_S12 = take_soup.Soup_S13 + bad_luck.Soup_S13;
  Soup_S13 = delta; 
  SoupComponent = Soup_S0;

proc VendingMachine =  SoupComponent || SodaComponent;

init VendingMachine;